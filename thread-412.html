<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>get_iplayer forums - Not a scalar reference error at get_iplayer.pl line 7099 on Shark Episode 1</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="robots" content="index,follow" />
<link type="text/css" rel="stylesheet" rev="stylesheet" href="screen.css"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
<nav class="navbar">
<div class="nav-container">
<ul class="">
<li> <a href="https://www.squarepenguin.co.uk/"> Home </a></li>
<li> <a href="https://www.squarepenguin.co.uk/blog/" class=""> Blog </a></li>
<li> <a href="https://www.squarepenguin.co.uk/features/" class=""> Features </a></li>
<li> <a href="https://www.squarepenguin.co.uk/faqs/" class=""> FAQ </a></li>
<li> <a href="https://www.squarepenguin.co.uk/downloads/" class=""> Downloads </a></li>
<li> <a href="https://www.squarepenguin.co.uk/wiki/" class=""> Wiki </a></li>
<li> <a href="https://www.squarepenguin.co.uk/guides/" class=""> Guides </a></li>
<li> <a href="https://forums.squarepenguin.co.uk/" class=""> Forums </a></li>
</ul>
</div>
</nav>
<div id="container">
<h1 class="forumtitle">get_iplayer forums</h1>
<h3 class="forumsubtitle">Forum archived. Posting disabled.</h3>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-8.html">Windows Forums</a> &gt; <a href="forum-6.html">Windows Troubleshooting</a> &gt; Not a scalar reference error at get_iplayer.pl line 7099 on Shark Episode 1</div>
<div id="pagetitle"><h2>Not a scalar reference error at get_iplayer.pl line 7099 on Shark Episode 1</h2></div>
<div id="content">
<div class="post">
<div class="header">
<div class="author"><h2>user-924</h2></div><div class="dateline">02-06-2015, 02:09 PM</div>
</div>
<div class="message">I have downloaded Shark Episodes 2 and 3 but for Episode 1 I get "Not a scalar reference ..." error. I have tried<br />
<br />
get_iplayer --get 1277<br />
get_iplayer --pid p02n7sc6<br />
<br />
and also used the web pvr manager using 1277 as the index. In all cases it correctly identifies the programme<br />
but I get the error:<br />
Info  1: matching programmes<br />
Nor a scalar reference at get_iplayer.pl line 7099<br />
<br />
I see this issue should be fixed in the next release but others say if you try enough times it eventually works. I have tried about 15 times with no luck. By the time of the next release of get_iplayer the programme will no longer be available. (I have v 2.92)<br />
<br />
Any suggestions?<br />
Thanks.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">02-06-2015, 02:33 PM</div>
</div>
<div class="message">A new release will be available in a day or two, so you will have time to get episode 1</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">02-06-2015, 09:28 PM</div>
</div>
<div class="message">You may be able to work around this error by trying either  <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>--exclude-supplier=akamai</code></div></div> or <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>--exclude-supplier=limelight</code></div></div></div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-585</h2></div><div class="dateline">02-06-2015, 10:07 PM</div>
</div>
<div class="message">I did try setting flashhd1 and flashhd2 to see if that would force a different CDN but it made no difference.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">02-06-2015, 10:39 PM</div>
</div>
<div class="message">Changing the recording modes won't make any difference.  Try what I suggested.  Use <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>--exclude-supplier=akamai</code></div></div> to get the above episode of Shark.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-928</h2></div><div class="dateline">02-06-2015, 11:15 PM</div>
</div>
<div class="message">Thanks for that work around, it worked fine for: <br />
<br />
Storyville - Ziggy Stardust and the Spiders from Mars</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-585</h2></div><div class="dateline">03-06-2015, 01:36 AM</div>
</div>
<div class="message">With all these bad HLS playlists, does that cause longer term problems when it comes to using the HLS download options? If and when on-demand TV and radio switch to HLS streaming, will the bad playlist data cause these to fail?</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">03-06-2015, 01:12 PM</div>
</div>
<div class="message">A lot of those errors were spurious (get_iplayer bug), and they are now suppressed without <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>--verbose</code></div></div>. The HLS playlists have changed a bit recently, but there is no way to know what that portends for the future.  I haven't investigated.  However, some of the errors were the result of access to a few playlists being explicitly denied by the BBC CDN.  If they were all shut off, then that certainly would be a problem</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-585</h2></div><div class="dateline">03-06-2015, 05:12 PM</div>
</div>
<div class="message">Why did they suddenly start appearing like that though after the Beeb turned the ION feeds off? There had been the occasional HLS playlist error over the past weeks but suddenly everything seemed to have them.<br />
<br />
When you say the requests were denied by the BBC CDN, was that denied to get_iplayer in particular or just denied in general.<br />
<br />
Presumably they can't remove all these playlists because the mediaselector itself must need them to actually play the content.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">03-06-2015, 05:23 PM</div>
</div>
<div class="message">Like I said, I haven't investigated. That's a headache for another day.  Presumably there were some CDN changes along with the other shenanigans.  It may have something to do with rolling out a new streaming platform at one of the CDNs.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-924</h2></div><div class="dateline">05-06-2015, 11:29 AM</div>
</div>
<div class="message">I haven't tried the workaround but I have installed 2.94 and now get a different error:<br />
<br />
INFO: File name prefix = Shark_-_1._Episode_1_p02n7sc6_default                 <br />
RTMPDump v2.4<br />
(c) 2010 Andrej Stepanchuk, Howard Chu, The Flvstreamer Team; license: GPL<br />
ERROR: Last tag size must be greater/equal zero (prevTagSize=873189259) and smaller then filesize, corrupt file!<br />
INFO: Command exit code 1 (raw code = 256)<br />
WARNING: Retry recording for 'Shark - 1. Episode 1 (p02n7sc6)'<br />
<br />
It retries indefinitely.<br />
<br />
Any suggestions.<br />
<br />
Should I try the workaround (--exclude-supplier=Akamai) with 2.94 or do I need to revert to 2.92 for that to work?<br />
<br />
Thanks</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-924</h2></div><div class="dateline">05-06-2015, 11:51 AM</div>
</div>
<div class="message">Just tried again with 2.94 and the workaround. Seemed to get the same error but this time I left it running and after about 30 retries it started downloading. Probably nothing to do with the workaround.  Anyway I have now got all three episodes. Thanks for your help.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-585</h2></div><div class="dateline">05-06-2015, 11:51 AM</div>
</div>
<div class="message">Looks like you may already have a partial download of it somehow in your downloads folder. You need to delete that first.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-924</h2></div><div class="dateline">05-06-2015, 12:10 PM</div>
</div>
<div class="message">Spoke too soon - its the signed version. Just tried again (without the workaround but with --force because it was already in my history). It took about 100 retries this time but started downloading in the end, but now I am getting the audio described version! What is going on?</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-924</h2></div><div class="dateline">05-06-2015, 12:36 PM</div>
</div>
<div class="message">Worked it out. There was already a partial .flv file of the episode in the recordings folder (presumably from previous failed attempts) so get iplayer looked for an alternative version. That's probably why it took all those retries.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-958</h2></div><div class="dateline">19-06-2015, 03:00 PM</div>
</div>
<div class="message"><blockquote class="mycode_quote"><cite>Quote:</cite><a href="/topic/not-a-scalar-reference-error-on-shark-episode-1/#post-11586">Quote:</a>Changing the recording modes wonât make any difference.  Try what I suggested.  Use <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>--exclude-supplier=akamai</code></div></div> to get the above episode of Shark.<br />
<br />
<a href="http://#11586">Quote</a></blockquote>
<br />
Thanks for that advice, I was having probs downloading a BBC 4 film "An Education" which resulted in a similar "Not SCALAR" response, Googling for help brought me here and success ..Thanks!<br />
How will we mere mortals know when there is an update to get_iplayer?</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-30</h2></div><div class="dateline">19-06-2015, 05:29 PM</div>
</div>
<div class="message">Releases are announced here in the forums, on the <a href="/blog/">blog</a> and in the <a href="http://lists.infradead.org/pipermail/get_iplayer/">get_iplayer mailing list</a>. <br />
<br />
Visit any of those (or subscribe to the blog/mailing list) and you'll be notified.</div>
</div>
</div>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-8.html">Windows Forums</a> &gt; <a href="forum-6.html">Windows Troubleshooting</a> &gt; Not a scalar reference error at get_iplayer.pl line 7099 on Shark Episode 1</div>
</div>
<div class="footer">
<div class="footer-text">
<p class="footernote"> Site design Copyright &copy; SquarePenguin; <a href="http://creativecommons.org/licenses/by/4.0/">some rights reserved.</a></p>
<p class="footernote"><a href="https://www.squarepenguin.co.uk/attribution/">Attribution of Licensed Works</a></p>
</div>
</div>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
</body>
</html>
