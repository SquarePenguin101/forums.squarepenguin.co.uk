<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>get_iplayer forums - Live streaming</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="robots" content="index,follow" />
<link type="text/css" rel="stylesheet" rev="stylesheet" href="screen.css"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
<nav class="navbar">
<div class="nav-container">
<ul class="">
<li> <a href="https://www.squarepenguin.co.uk/"> Home </a></li>
<li> <a href="https://www.squarepenguin.co.uk/blog/" class=""> Blog </a></li>
<li> <a href="https://www.squarepenguin.co.uk/features/" class=""> Features </a></li>
<li> <a href="https://www.squarepenguin.co.uk/faqs/" class=""> FAQ </a></li>
<li> <a href="https://www.squarepenguin.co.uk/downloads/" class=""> Downloads </a></li>
<li> <a href="https://www.squarepenguin.co.uk/wiki/" class=""> Wiki </a></li>
<li> <a href="https://www.squarepenguin.co.uk/guides/" class=""> Guides </a></li>
<li> <a href="https://forums.squarepenguin.co.uk/" class=""> Forums </a></li>
</ul>
</div>
</nav>
<div id="container">
<h1 class="forumtitle">get_iplayer forums</h1>
<h3 class="forumsubtitle">Forum archived. Posting disabled.</h3>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-10.html">Linux &amp; Unix Forums</a> &gt; <a href="forum-14.html">Linux &amp; Unix Troubleshooting</a> &gt; Live streaming</div>
<div id="pagetitle"><h2>Live streaming</h2></div>
<div id="content">
<div class="post">
<div class="header">
<div class="author"><h2>user-69</h2></div><div class="dateline">15-09-2013, 02:22 PM</div>
</div>
<div class="message">Hi there, <br />
get_iplayer is great and working fine for me, but for Live Streams.<br />
<br />
Two examples:<br />
<br />
get_iplayer --stream --type=tv "http://www.bbc.co.uk/tv/bbctwo/live" --player="mplayer -cache 512 -"<br />
get_iplayer v2.83, Copyright (C) 2008-2010 Phil Lewis<br />
  This program comes with ABSOLUTELY NO WARRANTY; for details use --warranty.<br />
  This is free software, and you are welcome to redistribute it under certain<br />
  conditions; use --conditions for details.<br />
<br />
MPlayer SVN-r36443-4.7 (C) 2000-2013 MPlayer Team<br />
<br />
Playing -.<br />
Reading from stdin...<br />
Cache fill:  0.00% (0 bytes)   INFO: Trying pid: <a href="http://www.bbc.co.uk/tv/bbctwo/live">http://www.bbc.co.uk/tv/bbctwo/live</a> using type: tv<br />
INFO Trying to stream pid using type tv<br />
INFO: pid not found in tv cache<br />
WARNING: No programmes are available for this pid with version(s): default<br />
Cache fill:  0.00% (0 bytes)   ents/get_iplayer-10b7c07 &gt; <br />
<br />
libavformat version 55.16.102 (internal)<br />
<br />
<br />
Exiting... (End of file)<br />
<br />
-----------------------------<br />
<br />
get_iplayer --stream --type=livetv "BBC Two" --player="mplayer -cache 512 -"<br />
get_iplayer v2.83, Copyright (C) 2008-2010 Phil Lewis<br />
  This program comes with ABSOLUTELY NO WARRANTY; for details use --warranty.<br />
  This is free software, and you are welcome to redistribute it under certain<br />
  conditions; use --conditions for details.<br />
<br />
Matches:<br />
80006:  BBC Two - live<br />
<br />
INFO: 1 Matching Programmes<br />
MPlayer SVN-r36443-4.7 (C) 2000-2013 MPlayer Team<br />
<br />
Playing -.<br />
Reading from stdin...<br />
Cache fill:  0.00% (0 bytes)   INFO: Checking existence of default version<br />
INFO: flashvhigh1,flashvhigh2,flashhigh1,flashhigh2,flashstd1,flashstd2,flashlow1,flashlow2 modes will be tried for version default<br />
INFO: Trying flashvhigh1 mode to record livetv: BBC Two - live<br />
INFO: File name prefix = BBC_Two_live_2013-09-15_152128                 <br />
RTMPDump v2.4-n78-git3a1e20c-ppa8~raring<br />
(c) 2010 Andrej Stepanchuk, Howard Chu, The Flvstreamer Team; license: GPL<br />
WARNING: You haven't specified an output file (-o filename), using stdout<br />
Connecting ...<br />
Cache fill:  0.00% (0 bytes)   INFO: Connected...<br />
Cache fill:  0.00% (0 bytes)   ERROR: Closing connection: NetStream.Play.StreamNotFound<br />
INFO: Command exit code 1 (raw code = 256)<br />
<br />
INFO: Streaming failed with exit code 1<br />
ERROR: aborting get_iplayer<br />
Cache fill:  0.00% (0 bytes)   cuments/get_iplayer-10b7c07 &gt; <br />
<br />
libavformat version 55.16.102 (internal)<br />
<br />
<br />
Exiting... (End of file)<br />
<br />
<br />
<br />
------------------<br />
<br />
<br />
grateful for any help.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">15-09-2013, 10:08 PM</div>
</div>
<div class="message">General tip - Use the code button to surround your command strings with backticks so they come out like this:<br />
<br />
<div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>get_iplayer --stream --type=livetv "BBC Two" --player="mplayer -cache 512 -"</code></div></div><br />
<br />
<br />
Unfortunately, WordPress messes up the command string otherwise.<br />
<br />
Re: attempt 1 - To be honest, I'm not sure that command form even works any more, even though it's still in the documentation.  There have been changes to the BBC site since get_iplayer was written, so functionality that relies on web scraping breaks.  For live streams, stick to the form you used in attempt 2.<br />
<br />
Re: attempt 2 - When you get StreamNotFound errors, it means that the first CDN get_iplayer accesses doesn't have the live stream available, so get_iplayer just punts and exits.  There should be two CDNs available for TV programmes, so the trick is to force get_iplayer to use another CDN.  Do that by adding <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>--modes=flashhigh2</code></div></div> to your command  line.  You can also use <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>flashstd2</code></div></div> or <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>flashlow2</code></div></div> for lower quality streams.  That will point get_iplayer to CDN #2.  However, since the CDNs rotate #2 may not necessarily point to the CDN where the live stream is unavailable.  Just keep trying until #2 rotates onto a working CDN - it may take a number of attempts.  You can also switch the "2" to "1" to access CDN #1, but it's better to leave it as "2" and keep trying.  More info in "Modes and CDNs" section of:<br />
<br />
<a href="https://squarepenguin.co.uk/wiki/modes">https://squarepenguin.co.uk/wiki/modes</a><br />
<br />
In my experience, live streaming or recording is problematic at best.  rtmpdump often is unable to get a stream up and running, so numerous attempts are required.  Once a stream is running, things are usually OK.  Also, if it appears that a stream freezes after a second or two - without any other sign of error - leave it for a couple of minutes.  Sometimes rtmpdump will recover and streaming will begin.</div>
</div>
</div>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-10.html">Linux &amp; Unix Forums</a> &gt; <a href="forum-14.html">Linux &amp; Unix Troubleshooting</a> &gt; Live streaming</div>
</div>
<div class="footer">
<div class="footer-text">
<p class="footernote"> Site design Copyright &copy; SquarePenguin; <a href="http://creativecommons.org/licenses/by/4.0/">some rights reserved.</a></p>
<p class="footernote"><a href="https://www.squarepenguin.co.uk/attribution/">Attribution of Licensed Works</a></p>
</div>
</div>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
</body>
</html>
