<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>get_iplayer forums - Periodic Error</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="robots" content="index,follow" />
<link type="text/css" rel="stylesheet" rev="stylesheet" href="screen.css"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
<nav class="navbar">
<div class="nav-container">
<ul class="">
<li> <a href="https://www.squarepenguin.co.uk/"> Home </a></li>
<li> <a href="https://www.squarepenguin.co.uk/blog/" class=""> Blog </a></li>
<li> <a href="https://www.squarepenguin.co.uk/features/" class=""> Features </a></li>
<li> <a href="https://www.squarepenguin.co.uk/faqs/" class=""> FAQ </a></li>
<li> <a href="https://www.squarepenguin.co.uk/downloads/" class=""> Downloads </a></li>
<li> <a href="https://www.squarepenguin.co.uk/wiki/" class=""> Wiki </a></li>
<li> <a href="https://www.squarepenguin.co.uk/guides/" class=""> Guides </a></li>
<li> <a href="https://forums.squarepenguin.co.uk/" class=""> Forums </a></li>
</ul>
</div>
</nav>
<div id="container">
<h1 class="forumtitle">get_iplayer forums</h1>
<h3 class="forumsubtitle">Forum archived. Posting disabled.</h3>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-16.html">General Forums</a> &gt; <a href="forum-15.html">General Topics </a> &gt; Periodic Error</div>
<div id="pagetitle"><h2>Periodic Error</h2></div>
<div id="content">
<div class="post">
<div class="header">
<div class="author"><h2>user-901</h2></div><div class="dateline">20-05-2015, 04:31 PM</div>
</div>
<div class="message">It happened for about 4 days in February, and it's happening again, but every now and then, host bbcmedia.fcod.llnwd.net fails to download files with get_iplayer.  The handshake happens OK, but then waits until the timeout period and the operation fails with no data on the socket.  This is very different, apparently, than geocode issues and simply seems to be the server failing.  If that is true, no one should be currently able to download flashvhigh mode progs, as I think they are all on that server.  BTW, all other modes, on different servers, are working.<br />
<br />
Is that the case?<br />
<br />
Here is the debug output:<br />
FLVStreamer v1.9<br />
(c) 2009 Andrej Stepanchuk, Howard Chu, The Flvstreamer Team; license: GPL<br />
DEBUG: Protocol : RTMP<br />
DEBUG: Hostname : bbcmedia.fcod.llnwd.net<br />
DEBUG: Port     : 1935<br />
DEBUG: Playpath : mp4:iplayerstream/secure_auth/1500kbps/modav/bUnknown-7188c83c-e86c-44a4-b32e-ef6a224f9bc2_b05s9fn7_1429471915398.mp4<br />
DEBUG: tcUrl    : rtmp://bbcmedia.fcod.llnwd.net:1935/a8984/e3?as=adobe-hmac-sha256&amp;av=1&amp;te=connect&amp;mp=iplayerstream/secure_auth/400kbps/modav/bUnknown-7188c83c-e86c-44a4-b32e-ef6a224f9bc2_b05s9fn7_1429471917223.mp4,iplayerstream/secure_auth/800kbps/modav/bUnknown-7188c83c-e86c-44a4-b32e-ef6a224f9bc2_b05s9fn7_1429471918867.mp4,iplayerstream/secure_auth/1500kbps/modav/bUnknown-7188c83c-e86c-44a4-b32e-ef6a224f9bc2_b05s9fn7_1429471915398.mp4,iplayerstream/secure_auth/480kbps/modav/bUnknown-7188c83c-e86c-44a4-b32e-ef6a224f9bc2_b05s9fn7_1429471918455.mp4&amp;et=1432141731&amp;fmta-token=5cfbf20d5a5f7ac77ec802aa0ca65e72f19a9467d01d1fbe183b4e58acebcfb3<br />
DEBUG: swfUrl   : <a href="http://www.bbc.co.uk/emp/iplayer/revisions/617463_618125_3/617463_618125_3_emp.swf">http://www.bbc.co.uk/emp/iplayer/revisio..._3_emp.swf</a><br />
DEBUG: app      : a8984/e3?as=adobe-hmac-sha256&amp;av=1&amp;te=connect&amp;mp=iplayerstream/secure_auth/400kbps/modav/bUnknown-7188c83c-e86c-44a4-b32e-ef6a224f9bc2_b05s9fn7_1429471917223.mp4,iplayerstream/secure_auth/800kbps/modav/bUnknown-7188c83c-e86c-44a4-b32e-ef6a224f9bc2_b05s9fn7_1429471918867.mp4,iplayerstream/secure_auth/1500kbps/modav/bUnknown-7188c83c-e86c-44a4-b32e-ef6a224f9bc2_b05s9fn7_1429471915398.mp4,iplayerstream/secure_auth/480kbps/modav/bUnknown-7188c83c-e86c-44a4-b32e-ef6a224f9bc2_b05s9fn7_1429471918455.mp4&amp;et=1432141731&amp;fmta-token=5cfbf20d5a5f7ac77ec802aa0ca65e72f19a9467d01d1fbe183b4e58acebcfb3<br />
DEBUG: flashVer : LNX 10,0,22,87<br />
DEBUG: live     : no<br />
DEBUG: timeout  : 60 sec<br />
DEBUG: Setting buffer time to: 36000000ms<br />
Connecting ...<br />
DEBUG: Connect, ... connected, handshaking<br />
DEBUG: HandShake: Type Answer   : 03<br />
DEBUG: HandShake: Server Uptime : 1729240751<br />
DEBUG: HandShake: FMS Version   : 4.0.3.1<br />
DEBUG: Connect, handshaked<br />
DEBUG: Invoking connect<br />
INFO: Connected...<br />
DEBUG: HandleServerBW: server BW = 2500000<br />
DEBUG: HandleClientBW: client BW = 2500000 2<br />
DEBUG: HandleChangeChunkSize, received: chunk size change to 4096<br />
DEBUG: HandlePacket, received: invoke 242 bytes<br />
DEBUG: Property: &lt;Name:                    fmsVer, STRING:	FMS/4,0,3,4044&gt;<br />
DEBUG: Property: &lt;Name:              capabilities, NUMBER:	255.00&gt;<br />
DEBUG: Property: &lt;Name:                      mode, NUMBER:	1.00&gt;<br />
DEBUG: Property: &lt;Name:                     level, STRING:	status&gt;<br />
DEBUG: Property: &lt;Name:                      code, STRING:	NetConnection.Connect.Success&gt;<br />
DEBUG: Property: &lt;Name:               description, STRING:	Connection succeeded.&gt;<br />
DEBUG: Property: &lt;Name:            objectEncoding, NUMBER:	0.00&gt;<br />
DEBUG: Property: &lt;Name:                      data, OBJECT&gt;<br />
DEBUG: Property: &lt;Name:                   version, STRING:	4,0,3,4044&gt;<br />
DEBUG: HandleInvoke, server invoking &lt;_result&gt;<br />
DEBUG: HandleInvoke, received result for method call &lt;connect&gt;<br />
DEBUG: sending ctrl. type: 0x0003<br />
DEBUG: Invoking createStream<br />
DEBUG: HandlePacket, received: invoke 21 bytes<br />
DEBUG: HandleInvoke, server invoking &lt;onBWDone&gt;<br />
DEBUG: Invoking _checkbw<br />
DEBUG: HandlePacket, received: invoke 29 bytes<br />
DEBUG: Property: NULL<br />
DEBUG: HandleInvoke, server invoking &lt;_result&gt;<br />
DEBUG: HandleInvoke, received result for method call &lt;createStream&gt;<br />
DEBUG: SendPlay, seekTime=0.00, dLength=0, sending play: mp4:iplayerstream/secure_auth/1500kbps/modav/bUnknown-7188c83c-e86c-44a4-b32e-ef6a224f9bc2_b05s9fn7_1429471915398.mp4<br />
DEBUG: Invoking play<br />
DEBUG: sending ctrl. type: 0x0003<br />
DEBUG: HandlePacket, received: invoke 16419 bytes<br />
DEBUG: Property: NULL<br />
DEBUG: HandleInvoke, server invoking &lt;_onbwcheck&gt;<br />
DEBUG: Invoking _result<br />
DEBUG: FillBuffer, recv returned -1. GetSockError(): 11 (Resource temporarily unavailable)<br />
ERROR: ReadPacket, failed to read RTMP packet header<br />
DEBUG: Closing connection.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-533</h2></div><div class="dateline">20-05-2015, 11:56 PM</div>
</div>
<div class="message"><blockquote class="mycode_quote"><cite>Quote:</cite><a href="/topic/periodic-error/#post-11493">Quote:</a>DEBUG: Hostname : bbcmedia.fcod.llnwd.net</blockquote>
<br />
That looks to be using the Limelight CDN. My downloads from Limelight CDN also stopped working a few days ago so I think there has been some changes there or something has broken at the limelight end. It could be something to do with geoblocking. I have a VPS in the UK and downloads to there (from Akamai) are working perfectly.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-901</h2></div><div class="dateline">22-05-2015, 10:32 PM</div>
</div>
<div class="message">Just so.  I don't think it's geoblocking because I can connect to iplayertokfs.fplive.net which uses "level 3" rather than limelight and it works fine.  That corresponds to --modes flashhd.  Flashlow also works, using a different server.  I think the idea that something is broken at the limelight end is the best hypothesis.  It would make no sense to geoblock that whilst leaving Flash HD enabled, which is a better copy.<br />
<br />
I'm an engineer and find that incredible, though.  What could be broken that can't be fixed in a week?  No one has noticed?  lol  Maybe we're the only ones using flashhigh.  I mean, why wasn't there a hew and cry here?  <br />
<br />
Looking back it seems some had this same problem in February for a while.  Aunty's engineers have become completely unresponsive.  The new, mobile optimized, iPlayer page often skips entire series.  Like Dr Who...  I reported it.  They weren't even able to confirm the bug.  How freakin' hard is it to go to the iPlayer page and look at drama and see that it's not there any more?  It skips single programs in factual series all the time.  Yeah, I know about the new delay in posting, but I mean it just *never* shows up on the chronological order page.  They've taken away the "this programme doesn't play" button, like they don't even care to know.  Maybe there's no way for someone to say, "Hey, your limelight server is off in the weeds" anymore.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-533</h2></div><div class="dateline">23-05-2015, 03:14 AM</div>
</div>
<div class="message">Well, at least 1 other has been affected:<br />
<br />
<a href="https://github.com/get-iplayer/get_iplayer/issues/154">https://github.com/get-iplayer/get_iplayer/issues/154</a><br />
<br />
I admit to not understanding how which CDN is chosen. ***REDACTED - see <a href="/announcement-1.html">Forum Rules</a>*** When I'm inside the UK flashvhigh1 always works. Interestingly, I can get a browser to work through the proxy but I'm unsure of which mode and CDN it uses.<br />
<br />
I suspect some kind of DNS sniffing is involved hence the proliferation of these "Smart DNS" services. Anyway, starting to get off topic.. sorry.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-30</h2></div><div class="dateline">23-05-2015, 11:28 AM</div>
</div>
<div class="message">Talk of circumventing the BBC's geo-blocking is not allowed here. See the <a href="/announcement-1.html">Forum Rules</a>. Feel free to start another conversation without reference to geo-blocking circumvention. <br />
<br />
This topic is now closed.</div>
</div>
</div>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-16.html">General Forums</a> &gt; <a href="forum-15.html">General Topics </a> &gt; Periodic Error</div>
</div>
<div class="footer">
<div class="footer-text">
<p class="footernote"> Site design Copyright &copy; SquarePenguin; <a href="http://creativecommons.org/licenses/by/4.0/">some rights reserved.</a></p>
<p class="footernote"><a href="https://www.squarepenguin.co.uk/attribution/">Attribution of Licensed Works</a></p>
</div>
</div>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
</body>
</html>
