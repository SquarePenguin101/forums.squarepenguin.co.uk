<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>get_iplayer forums - Cannot find iPM (Radio 4) with Web PVR search</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="robots" content="index,follow" />
<link type="text/css" rel="stylesheet" rev="stylesheet" href="screen.css"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" sizes="192x192" href="/nice-highres.png" />
<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
</head>
<body>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
<nav class="navbar">
<div class="nav-container">
<ul class="">
<li> <a href="https://www.squarepenguin.co.uk/"> Home </a></li>
<li> <a href="https://www.squarepenguin.co.uk/blog/" class=""> Blog </a></li>
<li> <a href="https://www.squarepenguin.co.uk/features/" class=""> Features </a></li>
<li> <a href="https://www.squarepenguin.co.uk/faqs/" class=""> FAQ </a></li>
<li> <a href="https://www.squarepenguin.co.uk/downloads/" class=""> Downloads </a></li>
<li> <a href="https://www.squarepenguin.co.uk/wiki/" class=""> Wiki </a></li>
<li> <a href="https://www.squarepenguin.co.uk/guides/" class=""> Guides </a></li>
<li> <a href="https://forums.squarepenguin.co.uk/" class=""> Forums </a></li>
</ul>
</div>
</nav>
<div id="container">
<h1 class="forumtitle">get_iplayer forums</h1>
<h3 class="forumsubtitle">Forum archived. Posting disabled.</h3>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-8.html">Windows Forums</a> &gt; <a href="forum-5.html">Windows General Help</a> &gt; Cannot find iPM (Radio 4) with Web PVR search</div>
<div id="pagetitle"><h2>Cannot find iPM (Radio 4) with Web PVR search</h2></div>
<div id="content">
<div class="post">
<div class="header">
<div class="author"><h2>user-1827</h2></div><div class="dateline">08-12-2017, 03:40 PM</div>
</div>
<div class="message">(v3.07 - Win7 ultimate 64bit)<br />
<br />
I only do radio downloads, have never tried TV.<br />
<br />
<span style="font-style: italic;" class="mycode_i">Web interface search problem, is this typical?</span><br />
I used to use the WebPVR function for recording series, and used the CLi for single programmes, but ever since the advent of cache refresh by webscraping, my WebPVR searches are only finding maybe 1/3 of the programmes I search for. Am I doing something wrong, or is that typical? I've tried cache rebuilds, etc, but it has no effect.<br />
As an example, can anyone find "iPM" on R4 via the web interface? I understand the limitations of webscraping, and if my experiences are just how it is then that's fine and I'll live with it.<br />
<br />
<span style="font-style: italic;" class="mycode_i">Verbose display of new programmes on cache refresh</span><br />
Due to the above, I'm really missing the verbose display of new listings on cache refresh that used to appear in the web interface. I've found the command that get's the CLi to do a verbose refresh, but it has no effect on the Web interfaces's behaviour, and I haven't the knowledge or wit to work out what I'm doing wrong. Is there a way to get the Web's cache refresh display to behave as it used to?<br />
<br />
<span style="font-style: italic;" class="mycode_i">Programme Synopsis detailed info</span><br />
Sometime around the release of v3.0.x downloaded radio programmes stopped getting the full programme info that (on Windows) appears under:<br />
<br />
Properties -&gt; Details -&gt; Comments   (for each individual programme.)<br />
<br />
Currently I get approx. 28 characters, and it cheerfully stops halfway through the last word.<br />
<br />
I understand from Meic that there are several different Synopses included with each programme, and that GiP refers to them as:<br />
descshort, descmedium and desclong.<br />
<br />
Once again, stupidity or incompetence has prevented me from finding a solution within the help pages...<br />
<br />
This is causing me quite a lot of trouble, is there a fix? Ideally I'd love for GiP to capture and include DescLong with every download, both those captured with WebPVR &amp; via CLi.<br />
<br />
(When I go to clear "listened to" stuff from the MP3 player, if I don't recognise the title I now have to listen to a bit of the programme again whereas I used just to be able to glance at the précis under "Comments," which was much quicker.)<br />
<br />
Thanks in advance for any help that anyone can offer, and thanks especially to the creators of GiP, it makes a solitary working life bearable.<br />
<br />
ed.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-1651</h2></div><div class="dateline">08-12-2017, 04:17 PM</div>
</div>
<div class="message"><blockquote class="mycode_quote"><cite><span> (08-12-2017, 03:40 PM)</span></cite>(v3.07 - Win7 ultimate 64bit)<br />
<br />
I only do radio downloads, have never tried TV.<br />
<br />
<span style="font-style: italic;" class="mycode_i">Web interface search problem, is this typical?</span><br />
I used to use the WebPVR function for recording series, and used the CLi for single programmes, but ever since the advent of cache refresh by webscraping, my WebPVR searches are only finding maybe 1/3 of the programmes I search for. Am I doing something wrong, or is that typical? I've tried cache rebuilds, etc, but it has no effect.<br />
As an example, can anyone find "iPM" on R4 via the web interface? I understand the limitations of webscraping, and if my experiences are just how it is then that's fine and I'll live with it.</blockquote><br />
<a href="static/thread-1607-aid294.jpg"><img src="static/thread-1607-aid294.jpg"/></a>
<br />
<br />
I can see 4 iPM episodes.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-1827</h2></div><div class="dateline">08-12-2017, 04:56 PM</div>
</div>
<div class="message">Thanks for that. I just tried again, and all it returns for me is an episode of<br />
"Short Works: The World of Somerset Maugham: Series 3"<br />
<br />
It does imply that it's a local problem though. Hopefully if anyone can suggest a fix it'll resolve the general lack of success that I have with Web interface searches rather than just iPM...<br />
<br />
I hit the refresh cache button before searching, which I understand might actually make things worse due to the vagaries of webscraping, but it has not shown me a single episode since the problem arose with v3.0.<br />
I can still download them with CLi.<br />
<br />
Thanks again, <br />
ed.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-15</h2></div><div class="dateline">09-12-2017, 08:53 AM</div>
</div>
<div class="message">Ican see 6 episodes of iPM after Cache Refresh using the Web PVR. Must be something in your set up.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">11-12-2017, 05:08 PM</div>
</div>
<div class="message"><blockquote class="mycode_quote"><cite><span> (08-12-2017, 03:40 PM)</span></cite>I used to use the WebPVR function for recording series, and used the CLi for single programmes, but ever since the advent of cache refresh by webscraping, my WebPVR searches are only finding maybe 1/3 of the programmes I search for.</blockquote>1/3 is meaningless unless we know what you are searching for and how you have configured get_iplayer. <a href="thread-706.html#what-information-should-you-provide">Follow our instructions</a> to provide a full report so we can see what is happening on your system. Use iPM for your test case.<br />
<blockquote class="mycode_quote"><cite><span> (08-12-2017, 03:40 PM)</span></cite>As an example, can anyone find "iPM" on R4 via the web interface? I understand the limitations of webscraping, and if my experiences are just how it is then that's fine and I'll live with it.</blockquote>Web scraping is irrelevant here. Don't believe everything you read. Other users have already demonstrated that iPM episodes can be located without difficulty.<br />
<blockquote class="mycode_quote"><cite><span> (08-12-2017, 03:40 PM)</span></cite>Is there a way to get the Web's cache refresh display to behave as it used to?</blockquote>Asked and answered: <a href="thread-1525.html#pid7008">https://forums.squarepenguin.co.uk/threa...ml#pid7008</a><br />
<blockquote class="mycode_quote"><cite><span> (08-12-2017, 03:40 PM)</span></cite>Properties -&gt; Details -&gt; Comments   (for each individual programme.)<br />
<br />
Currently I get approx. 28 characters, and it cheerfully stops halfway through the last word.</blockquote>I strongly suspect you are looking at the properties of an MP3 file that you converted yourself from get_iplayer <br />
output. get_iplayer doesn't produce MP3 files and any converted files you produce are not supported. It is likely that the full comment text is in the file, but whether or not you can see it depends on the software or hardware you use to view file properties, as well as how you converted the file. The comment field is handled oddly by Windows Explorer, so I suggest you post a query in the appropriate off-topic forum (<a href="https://forums.squarepenguin.co.uk/forum-24.html">https://forums.squarepenguin.co.uk/forum-24.html</a>) and perhaps someone else will explain in more detail.<br />
<blockquote class="mycode_quote"><cite><span> (08-12-2017, 04:56 PM)</span></cite>Thanks for that. I just tried again, and all it returns for me is an episode of<br />
"Short Works: The World of Somerset Maugham: Series 3"</blockquote>That should suggest to you that something may be wrong with your configuration. The string "ipm" does not appear anywhere in that programme name.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-1827</h2></div><div class="dateline">12-12-2017, 12:41 AM</div>
</div>
<div class="message">((v3.07 - Win7 ultimate 64bit - IE11 v11.0.48)<br />
<br />
Thankyou for that, your alternative way of viewing newly updated programmes will be better for me, especially if I can resolve the problem of WebPVR not finding things in searches. <br />
(The simple "inline"display of what had been added during a refresh was only wanted so that I could see at a glance if it hadn't seen a particular programme, so as not to waste my time searching for that programme manually to add it as a series record.)<br />
<br />
Search string "get_iplayer --type=radio iPM" produces the attached log file.<br />
<br />
(Maybe I should say in the meantime that in the case of iPM via WebPVR, I'm searching for it manually using the text "iPM" exactly as it appears there (but without quotes), with no additional symbols of any kind, in order to cast the net as wide as possible.)<br />
<br />
I usually have the search restricted to Radio only, and channels containing "BBC Radio 6 Music,Radio 4 FM,Radio 4 extra" again exactly as it appears there, and am searching in Name + Episode + Desc. (The spurious Somerset Maugham programme contained the word "shIPMates" in it's description.)<br />
<br />
(For some reason, if I have R6 anywhere but at the front of the "Channels" list every R6 search will fail.)<br />
<br />
Carrying out the "iPM" search with the Radio or Channels restrictions deleted makes no difference, even searching for a specific iPM episode via it's PID doesn't work in WebPVR, but works fine under CLi. That is why I asked if anyone else could see it, as there's no point in my wanting to fix something that can't be fixed.<br />
<br />
Should I be concerned about "Rogue" in the Debug section of the log.txt?<br />
<br />
(The second log file is the result of the following search string:<br />
get_iplayer --type=radio ".*"<br />
It's results also contain no reference to iPM, &amp; it also contains no R1 or R2 programmes, despite my having deleted all channel search limits both via "prefs-del" under CLi and by clearing them and  "apply -&gt; save default" under WebPVR.)<br />
<br />
For the record, I just applied:<br />
get_iplayer --prefs-clear<br />
and ran the iPM search again, still no sign of iPM.<br />
<br />
(As regards MP3 output, you are of course correct, the data is usually complete in the converted MP3 but Win Explorer has started to truncate it's "comments" display to 28 characters. Smells of ID3v1.1 to me, but nothing helpful online that I can find, or at least recognise as helpful.)<br />
<br />
Thanks again for the help already given, and in advance for anything else uou can offer.<br />
<br />
ed.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">12-12-2017, 02:16 AM</div>
</div>
<div class="message">Thanks for the logs, thought they don't quite make sense. There is no channel filter used in either search, so you're not performing the equivalent of what you claim to be doing in the Web PVR. However, "log full search.txt" is illustrative. That lists the entire contents of your radio cache. So, what station is conspicuous by its absence in the listing? You're not going to find iPM or any other Radio 4 programme in a search if you don't index them. The small number of programmes and the presence of only programmes from R6 and R4X in your cache suggest that you are populating your cache with <kbd>--refresh-include="BBC Radio 6 Music,Radio 4 FM,Radio 4 extra"</kbd> regardless of whether or not you are actually using a channel filter when searching. That will fail to index Radio 4 programmes because there is no "Radio 4 FM". It's just "Radio 4". Even if you had a full cache, using <kbd>--channel="BBC Radio 6 Music,Radio 4 FM,Radio 4 extra"</kbd> to filter search results would fail for the same reason.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-1827</h2></div><div class="dateline">13-12-2017, 02:54 PM</div>
</div>
<div class="message">Mediapenguin:<br />
I think that that is the new normal. <br />
I have my refresh restricted to R4, R4e &amp; R6m, and it get's refreshed most days, so I see much smaller numbers, but otherwise it's the same. <br />
As suggested by Dinky, if you want to see a full list of everything that was added to the cache on that refresh (but with 1400+ items I doubt that you do) then go to the search page of WebPVR, enter ".*" (without the quotes) in the search window and "1" in the "Added since (hours)" box, and hit search. If you do try it you can filter the results using the other search option boxes to make the numbers more manageable.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-1827</h2></div><div class="dateline">13-12-2017, 03:18 PM</div>
</div>
<div class="message">Dinky.<br />
Hmm, you're right of course, again. Hard to believe that I'd not noticed that it was all the R4 stuff that was missing rather than just random programmes as it seemed. <br />
<br />
How to fix? Un-install / re-install?<br />
<br />
I've just deleted the faulty, and added the corrected search restriction in the CLi as follows:<br />
<br />
get_iplayer --prefs-del --refresh-include="BBC Radio 6 Music,BBC Radio 4 FM,BBC Radio 4 Extra"<br />
get_iplayer --prefs-add --refresh-include="BBC Radio 6 Music,BBC Radio 4,BBC Radio 4 Extra"<br />
and edited the "Channels containing" entry similarly.<br />
<br />
...and refreshed the cache from within WebPVR, (having done it only 20 mins ago when responding to MediaPenguin's question), and it found 115 new programmes, most of which were R4, so we're getting somewhere. 100-odd programmes doesn't seem enough for 7 days of missing R4 data though? Also note that there is still no iPM, most recently broadcast 4 days ago.<br />
<br />
(As a default I do have my searches and refreshes (same thing?) restricted to R4, R4e &amp; R6m, but before creating the log files I had attempted to turn those restrictions off by both deleting them from WebPVR and by applying "get_iplayer --prefs-clear" from the CLi. Clearly that didn't work? "--prefs-show" confirmed at the time that there were no prefs stored.)<br />
<br />
(I used "BBC Radio 4 FM" rather than "BBC Radio 4" as that is what is listed as the correct station name in the user instructions:<br />
<a href="https://github.com/get-iplayer/get_iplayer/wiki/channels">https://github.com/get-iplayer/get_iplay...i/channels</a><br />
but I note that in an old backup copy of my notes on setting up GiP it lists "BBC Radio 4" so I suspect that I've changed it having read the channels list above and not noticed that change in behaviour soon enough to connect the two. D'oh, etc.)<br />
<br />
Thanks again.<br />
<br />
ed.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">13-12-2017, 04:20 PM</div>
</div>
<div class="message"><blockquote class="mycode_quote"><cite><span> (13-12-2017, 03:18 PM)</span></cite>get_iplayer --prefs-del --refresh-include="BBC Radio 6 Music,BBC Radio 4 FM,BBC Radio 4 Extra"<br />
get_iplayer --prefs-add --refresh-include="BBC Radio 6 Music,BBC Radio 4,BBC Radio 4 Extra"<br />
and edited the "Channels containing" entry similarly.</blockquote>No need to use "Channels containing" or <kbd>--channel</kbd> since you'll never have other channels indexed.<br />
<blockquote class="mycode_quote"><cite><span> (13-12-2017, 03:18 PM)</span></cite>somewhere. 100-odd programmes doesn't seem enough for 7 days of missing R4 data though? Also note that there is still no iPM, most recently broadcast 4 days ago.</blockquote>Rebuild the cache to backfill entries from prior calendar weeks.<br />
<blockquote class="mycode_quote"><cite><span> (13-12-2017, 03:18 PM)</span></cite>(I used "BBC Radio 4 FM" rather than "BBC Radio 4" as that is what is listed as the correct station name in the user instructions:<br />
<a href="https://github.com/get-iplayer/get_iplayer/wiki/channels">https://github.com/get-iplayer/get_iplay...i/channels</a></blockquote>That's not really what that list is for. Channel variants are merged when indexing. I'll add some sort of warning to that page.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-1827</h2></div><div class="dateline">16-12-2017, 01:02 PM</div>
</div>
<div class="message">All now working, Thankyou again for your time and trouble Dinky, and to those who replied with iPM availability info.<br />
<br />
As an aside, in the alphabetical listing of my cache's contents it lists iPM at the end, after "Yesterday in Parliament" presumably due to the lower-case "i"? It's not a problem now that I'm aware of it, but if there's a simple fix it'd be nice to have.<br />
<br />
For the benefit of anyone stumbling across this thread in the future, I did not have to un-install / re-install to persuade my Cache Refresh to behave nicely and stop using the incorrect filter I'd managed to apply (BBC Radio 4 FM.) After a couple of refreshes, a second " --prefs-del" under CLi and a cache Rebuild (in my case as a radio only user: get_iplayer --cache-rebuild --type=radio) normality was restored.</div>
</div>
</div>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-8.html">Windows Forums</a> &gt; <a href="forum-5.html">Windows General Help</a> &gt; Cannot find iPM (Radio 4) with Web PVR search</div>
</div>
<div class="footer">
<div class="footer-text">
<p class="footernote"> Site design Copyright &copy; SquarePenguin; <a href="http://creativecommons.org/licenses/by/4.0/">some rights reserved.</a></p>
<p class="footernote"><a href="https://www.squarepenguin.co.uk/attribution/">Attribution of Licensed Works</a></p>
</div>
</div>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
</body>
</html>
