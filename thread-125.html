<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>get_iplayer forums - Get_iplayer does not download files</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="robots" content="index,follow" />
<link type="text/css" rel="stylesheet" rev="stylesheet" href="screen.css"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
<nav class="navbar">
<div class="nav-container">
<ul class="">
<li> <a href="https://www.squarepenguin.co.uk/"> Home </a></li>
<li> <a href="https://www.squarepenguin.co.uk/blog/" class=""> Blog </a></li>
<li> <a href="https://www.squarepenguin.co.uk/features/" class=""> Features </a></li>
<li> <a href="https://www.squarepenguin.co.uk/faqs/" class=""> FAQ </a></li>
<li> <a href="https://www.squarepenguin.co.uk/downloads/" class=""> Downloads </a></li>
<li> <a href="https://www.squarepenguin.co.uk/wiki/" class=""> Wiki </a></li>
<li> <a href="https://www.squarepenguin.co.uk/guides/" class=""> Guides </a></li>
<li> <a href="https://forums.squarepenguin.co.uk/" class=""> Forums </a></li>
</ul>
</div>
</nav>
<div id="container">
<h1 class="forumtitle">get_iplayer forums</h1>
<h3 class="forumsubtitle">Forum archived. Posting disabled.</h3>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-8.html">Windows Forums</a> &gt; <a href="forum-6.html">Windows Troubleshooting</a> &gt; Get_iplayer does not download files</div>
<div id="pagetitle"><h2>Get_iplayer does not download files</h2></div>
<div id="content">
<div class="post">
<div class="header">
<div class="author"><h2>user-471</h2></div><div class="dateline">07-03-2014, 03:37 PM</div>
</div>
<div class="message">I'm a complete beginner at this get_iplayer stuff, I've been using it for around 2 years but all of a sudden when using the webpage to download programs it just doesn't seem to do anything.<br />
<br />
Not only that but no shows seem to appear if I search for a show.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">07-03-2014, 03:59 PM</div>
</div>
<div class="message">You're hardly a complete beginner if you've been using it for 2 years.  Click "Refresh Cache" and when the cache is refreshed search for a programme guaranteed to be present, like Eastenders.  If episodes found, try to download one.  If no search results, look in the console window where the Web PVR server is running and see if any error messages were printed.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-471</h2></div><div class="dateline">07-03-2014, 04:08 PM</div>
</div>
<div class="message">I've refresh cache but it doesn't seem to help, not sure if I should leave it for a while.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-471</h2></div><div class="dateline">07-03-2014, 04:44 PM</div>
</div>
<div class="message">'ping' is not recognized as an internal or external command,<br />
operable program or batch file.<br />
DEBUG: Command: ".\get_iplayer.cmd" --nopurge --nocopyright --show-options<br />
DEBUG: Command: ".\get_iplayer.cmd" --nopurge --nocopyright --listplugins<br />
INFO: Listening on 127.0.0.1:1935<br />
GET: /<br />
DEBUG: get_iplayer options: "modes=default" "force=0" "refreshfuture=0" "future=<br />
0" "subtitles=0" "fields=name" "type=tv" "search=.*" "history=0" "versionlist=de<br />
fault" "hide=0" "thumb=0" "skipdeleted=0" "nopurge=1" "listformat=ENTRY|&lt;index&gt;|<br />
&lt;thumbnail&gt;|&lt;pid&gt;|&lt;available&gt;|&lt;type&gt;|&lt;name&gt;|&lt;episode&gt;|&lt;versions&gt;|&lt;duration&gt;|&lt;des<br />
c&gt;|&lt;channel&gt;|&lt;categories&gt;|&lt;timeadded&gt;|&lt;guidance&gt;|&lt;web&gt;|&lt;seriesnum&gt;|&lt;episodenum&gt;|<br />
&lt;filename&gt;|&lt;mode&gt;" "page=1" "pagesize=20" "sortmatches=index"<br />
DEBUG: Command: ".\get_iplayer.cmd" --nocopyright --expiry=999999999 --webreques<br />
t "modes%3Ddefault?force%3D0?refreshfuture%3D0?future%3D0?subtitles%3D0?fields%3<br />
Dname?type%3Dtv?search%3D.%2A?history%3D0?versionlist%3Ddefault?hide%3D0?thumb%3<br />
D0?skipdeleted%3D0?nopurge%3D1?listformat%3DENTRY%7C%3Cindex%3E%7C%3Cthumbnail%3<br />
E%7C%3Cpid%3E%7C%3Cavailable%3E%7C%3Ctype%3E%7C%3Cname%3E%7C%3Cepisode%3E%7C%3Cv<br />
ersions%3E%7C%3Cduration%3E%7C%3Cdesc%3E%7C%3Cchannel%3E%7C%3Ccategories%3E%7C%3<br />
Ctimeadded%3E%7C%3Cguidance%3E%7C%3Cweb%3E%7C%3Cseriesnum%3E%7C%3Cepisodenum%3E%<br />
7C%3Cfilename%3E%7C%3Cmode%3E?page%3D1?pagesize%3D20?sortmatches%3Dindex"<br />
ERROR: echo failed: Bad file descriptor<br />
ERROR: Command failed to execute: Bad file descriptor<br />
INFO: Command exit code 16777215<br />
POST: /<br />
QUERY_STRING = SEARCH=&amp;SEARCHFIELDS=name&amp;PROGTYPES=tv&amp;URL=http%3A%2F%2Fwww%2Ebbc<br />
%2Eco%2Euk%2Fiplayer%2Fepisode%2Fp01pf7pt%2F37%5FDays%5FOne%5FMonth%5Fin%5FSumme<br />
r%2F&amp;VERSIONLIST=default&amp;EXCLUDE=&amp;CATEGORY=&amp;EXCLUDECATEGORY=&amp;CHANNEL=&amp;EXCLUDECHA<br />
NNEL=&amp;SINCE=&amp;BEFORE=&amp;FUTURE=0&amp;SORT=index&amp;REVERSE=0&amp;PAGESIZE=10&amp;HIDE=0&amp;HIDEDELETE<br />
D=0&amp;COLS=thumbnail&amp;COLS=type&amp;COLS=name&amp;COLS=episode&amp;COLS=desc&amp;COLS=channel&amp;COLS=<br />
categories&amp;COLS=timeadded&amp;OUTPUT=&amp;MODES=default&amp;PROXY=&amp;SUBTITLES=0&amp;METADATA=&amp;THU<br />
MB=0&amp;PVRHOLDOFF=&amp;FORCE=0&amp;AUTOWEBREFRESH=1&amp;AUTOPVRRUN=4&amp;REFRESHFUTURE=0&amp;BITRATE=&amp;<br />
VSIZE=&amp;VFR=&amp;STREAMTYPE=&amp;SAVE=0&amp;SEARCHTAB=yes&amp;COLUMNSTAB=no&amp;DISPLAYTAB=no&amp;RECORDI<br />
NGTAB=no&amp;STREAMINGTAB=no&amp;PAGENO=1&amp;INFO=0&amp;NEXTPAGE=record%5Fnow&amp;ACTION=&amp;.cgifield<br />
s=REFRESHFUTURE&amp;.cgifields=FUTURE&amp;.cgifields=SUBTITLES&amp;.cgifields=HISTORY&amp;.cgifi<br />
elds=REVERSE&amp;.cgifields=PROGTYPES&amp;.cgifields=THUMB&amp;.cgifields=HIDE&amp;.cgifields=HI<br />
DEDELETED&amp;.cgifields=FORCE&amp;.cgifields=COLS<br />
INFO: Starting Recording Now<br />
DEBUG: get_iplayer options: "pid=http://www.bbc.co.uk/iplayer/episode/p01pf7pt/3<br />
7_Days_One_Month_in_Summer/" "type=tv" "modes=default" "force=0" "refreshfuture=<br />
0" "subtitles=0" "hide=0" "thumb=0"<br />
INFO: Win32 Command: ".\get_iplayer.cmd" --nopurge --nocopyright --expiry=999999<br />
999 --hash --webrequest "pid%3Dhttp%3A%2F%2Fwww.bbc.co.uk%2Fiplayer%2Fepisode%2F<br />
p01pf7pt%2F37_Days_One_Month_in_Summer%2F?type%3Dtv?modes%3Ddefault?force%3D0?re<br />
freshfuture%3D0?subtitles%3D0?hide%3D0?thumb%3D0" 2&gt;&amp;1<br />
can't open pipe: Bad file descriptor<br />
<br />
<br />
<br />
This is what is say in the pvr manager</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">07-03-2014, 05:08 PM</div>
</div>
<div class="message">Your system PATH environment variable may be broken.  In the get_iplayer console window run:<br />
<br />
<div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>echo %PATH%</code></div></div><br />
<br />
<br />
<br />
and make sure your PATH contains "C:\windows\system32;C:\windows;".  If not, re-add those values at the head of the system PATH environment variable.  If you don't know how, you can easily google up some instructions.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">07-03-2014, 05:11 PM</div>
</div>
<div class="message">Also see this thread:<br />
<br />
<a href="http://www.mail-archive.com/get_iplayer%40lists.infradead.org/msg02810.html">http://www.mail-archive.com/get_iplayer%...02810.html</a></div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-500</h2></div><div class="dateline">03-04-2014, 03:28 AM</div>
</div>
<div class="message">Hi Dinky!<br />
<br />
Unfortunately I have exactly the same error and have tried it all to no avail.  What is crazy though is that my work PC has it on and it works like a dream and that was my first ever installation.  The only difference between the two is that the one that is getting this error is a much older PC (Intel 6600) about 6 years old whereas my work PC is only a year old.  I have tried re-installing, looking for other installers etc but everything comes back to here so I really hope you can fix it for me?<br />
<br />
Incidentally I only use it to record one or two BBC radio 2 programs only.  (Pick of the Pops if you must know!)  I will be eternally grateful.  Many thanks in advance!</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-500</h2></div><div class="dateline">03-04-2014, 03:33 AM</div>
</div>
<div class="message">Sorry, one other (important?) thing to note is that I use the web interface (very nice) and it all worked perfectly on the one initial run of the PVR but that was it?!?  Downloaded the program fine.  Very strange!</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">03-04-2014, 02:20 PM</div>
</div>
<div class="message">What is your output from  <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>echo %PATH%</code></div></div>?  Also, in the get_iplayer console window, run <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>ping www.google.com</code></div></div>. What is the result?</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-500</h2></div><div class="dateline">03-04-2014, 06:04 PM</div>
</div>
<div class="message">Hi Dinky,<br />
<br />
<div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>&lt;echo %path%&gt;</code></div></div> returns the following: <br />
<br />
<div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>&lt;%SystemRoot%&#92;system32;%SystemRoot%;%SystemRoot%&#92;system32&#92;Wben;%SystemRoot%&#92;system32&#92;WindowsPowerShell&#92;v1.0&#92;&gt;</code></div></div><br />
When I ping google it returns: <br />
<br />
<div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>&lt;'ping is not recognized as an internal or external command, operable program or batch file&gt;</code></div></div><br />
Many thanks</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">04-04-2014, 12:03 AM</div>
</div>
<div class="message">Path looks OK, but your ping utility appears to have gone walkabout.  It should be located at:<br />
<br />
<div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>C:&#92;Windows&#92;System32&#92;PING.EXE</code></div></div><br />
<br />
<br />
If that file doesn't exist, you'll need to replace it from your installation disks or find a copy from another Windows machine.  get_iplayer uses the ping utility a cheap and cheerful way to wait for the Web PVR server to start before launching the web browser.  We obviously wouldn't expect a system file to be missing, but it happens occasionally.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-500</h2></div><div class="dateline">04-04-2014, 11:10 PM</div>
</div>
<div class="message">Hi Dinky,<br />
<br />
just wanted to thank you for at the very least putting me on the right "path" (lol - excuse the pun)!  I checked to see if ping was there and it was but the problem still persisted so either you were wrong about ping needed (my knowledge is nowhere near yours but it was an uneducated logical option) or if you were right then the system could not find it!  So yes, you were right of course (many thanks) and a quick search on the internet showed me how to make sure that ping was found, i.e. by adding "C:\windows\system32" to the path command under environment variables under advanced system properties (scroll down to path and edit).  I have added this here again so that others may reference it.<br />
<br />
One thin I still find strange is that the PVR had a successful first run?  However, now that it seems to be fixed I am quite happy not to be bothered knowing why (unusual for me but I'm getting too old now to care!)  Again, many thanks!</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">05-04-2014, 02:04 AM</div>
</div>
<div class="message"><div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>echo %path%</code></div></div> should return <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>%SystemRoot%</code></div></div> expanded to its correct value (should be C:\Windows) in all entries.  I assumed you were cheating and just showing the content of the environment variables field from system properties.  I also assumed those angle brackets were added by you.  If the output from <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>echo %path%</code></div></div> literally printed <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>%SystemRoot%</code></div></div>, then something is wrong with your environment variable settings.  Ditto if the output contained those angle brackets.  I also notice that one of the entries is <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>%SystemRoot%&#92;system32&#92;Wben</code></div></div>, which is incorrect - it should end with <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>Wbem</code></div></div>.  So I think your environment variable settings may be screwed up.  That would explain why adding the expanded value <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>C:&#92;windows&#92;system32</code></div></div> - even though it should already be there in the form of <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>%SystemRoot%&#92;system32</code></div></div> - enabled access to the ping utility.  If you had one successful run with the Web PVR, then the environment variables were at one point correct, but something must have corrupted them later. It wasn't get_iplayer - it doesn't touch the environment variables.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-500</h2></div><div class="dateline">05-04-2014, 06:41 PM</div>
</div>
<div class="message">Hi Dinky,<br />
<br />
I am not sure what you mean by "cheating" but you are right about the angle brackets - I added them to denote what I was actually seeing on the screen.  The Wben/m issue was just a typo.  The only logical conclusion I can come up with is that I have had the feeling that something has not quite been right with my installation and can only conclude that it may be a failing of the SSD at some stage?<br />
<br />
Thanks again for all the info and technical insight.  I most certainly would not have got there without it!<br />
<br />
Petex</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">05-04-2014, 11:20 PM</div>
</div>
<div class="message">I suspected as much.  Thanks for the confirmation.  In that case, I suspect something may be wrong in your registry.  Open Regedit and find this string value:<br />
<br />
<div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>HKEY_LOCAL_MACHINE&#92;SYSTEM&#92;CurrentControlSet&#92;Control&#92;Session Manager&#92;Environment&#92;Path</code></div></div><br />
<br />
<br />
It should be of type REG_EXPAND_SZ.  If instead it is of type REG_SZ, that would explain why <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>%SystemRoot%</code></div></div> isn't being expanded in the output from <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>echo %path%</code></div></div>.  If that's the case, rename it to "OldPath" and create a new "Expandable String Value" named "Path" and copy the contents of "OldPath" to it.  I think you also then need to open and re-save the new value in the Environment Variables editor in Advanced System Settings.  Once that is done, open a <span style="font-weight: bold;" class="mycode_b">NEW</span> command prompt and try <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>echo %path%</code></div></div> again.  If the registry value is of the correct type already, then the thing to do would be to replace <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>%SystemRoot%</code></div></div> with <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>C:&#92;Windows</code></div></div> in the Path variable yourself (in the Environment Variables editor).</div>
</div>
</div>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-8.html">Windows Forums</a> &gt; <a href="forum-6.html">Windows Troubleshooting</a> &gt; Get_iplayer does not download files</div>
</div>
<div class="footer">
<div class="footer-text">
<p class="footernote"> Site design Copyright &copy; SquarePenguin; <a href="http://creativecommons.org/licenses/by/4.0/">some rights reserved.</a></p>
<p class="footernote"><a href="https://www.squarepenguin.co.uk/attribution/">Attribution of Licensed Works</a></p>
</div>
</div>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
</body>
</html>
