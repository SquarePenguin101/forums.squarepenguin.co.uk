<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>get_iplayer forums - Allow final segment of HLS video clip to be missing</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="robots" content="index,follow" />
<link type="text/css" rel="stylesheet" rev="stylesheet" href="screen.css"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
<nav class="navbar">
<div class="nav-container">
<ul class="">
<li> <a href="https://www.squarepenguin.co.uk/"> Home </a></li>
<li> <a href="https://www.squarepenguin.co.uk/blog/" class=""> Blog </a></li>
<li> <a href="https://www.squarepenguin.co.uk/features/" class=""> Features </a></li>
<li> <a href="https://www.squarepenguin.co.uk/faqs/" class=""> FAQ </a></li>
<li> <a href="https://www.squarepenguin.co.uk/downloads/" class=""> Downloads </a></li>
<li> <a href="https://www.squarepenguin.co.uk/wiki/" class=""> Wiki </a></li>
<li> <a href="https://www.squarepenguin.co.uk/guides/" class=""> Guides </a></li>
<li> <a href="https://forums.squarepenguin.co.uk/" class=""> Forums </a></li>
</ul>
</div>
</nav>
<div id="container">
<h1 class="forumtitle">get_iplayer forums</h1>
<h3 class="forumsubtitle">Forum archived. Posting disabled.</h3>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-16.html">General Forums</a> &gt; <a href="forum-7.html">Feature Requests</a> &gt; Allow final segment of HLS video clip to be missing</div>
<div id="pagetitle"><h2>Allow final segment of HLS video clip to be missing</h2></div>
<div id="content">
<div class="post">
<div class="header">
<div class="author"><h2>user-1504</h2></div><div class="dateline">06-01-2017, 02:58 AM</div>
</div>
<div class="message">This is also an issue with some TV clips (not just radio) where get_iplayer tries to download a non-existent "final" segment and think it fails.<br />
<br />
Removing the radio check in the source code results in a usable and complete file, so the quick fix is probably just to treat the final segment missing as a non-fatal error for *both* radio and TV.  <br />
<br />
See <a href="https://github.com/get-iplayer/get_iplayer/issues/315">https://github.com/get-iplayer/get_iplayer/issues/315</a> for details.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">06-01-2017, 04:57 PM</div>
</div>
<div class="message">Perhaps, but probably only if this problem starts to appear in HLS streams for broadcast programmes. First, I'm already dropping any formal support for clip archives like School Radio. More particularly, DASH streams get special consideration for final segment because the segment lists must be generated, and even the BBC media players sometimes have the segment count off by one. But in your case, the BBC screwed up in production for that particular programme. Segments can be up to 10 seconds long, so while ignoring your last segment makes sense because it is so small, that isn't always the case. It's also not possible to know if a different stream has the complete programme until you try them all. You're still left with a playable file in any case, though it will be the last (and probably lowest) stream quality that was attempted. You can re-download with <kbd>--tvmode</kbd> restricted to only the recording mode desired.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">05-02-2017, 01:12 PM</div>
</div>
<div class="message">Implemented in 2.98</div>
</div>
</div>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-16.html">General Forums</a> &gt; <a href="forum-7.html">Feature Requests</a> &gt; Allow final segment of HLS video clip to be missing</div>
</div>
<div class="footer">
<div class="footer-text">
<p class="footernote"> Site design Copyright &copy; SquarePenguin; <a href="http://creativecommons.org/licenses/by/4.0/">some rights reserved.</a></p>
<p class="footernote"><a href="https://www.squarepenguin.co.uk/attribution/">Attribution of Licensed Works</a></p>
</div>
</div>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
</body>
</html>
