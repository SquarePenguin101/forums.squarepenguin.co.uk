<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>get_iplayer forums - HLS Download speeds</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="robots" content="index,follow" />
<link type="text/css" rel="stylesheet" rev="stylesheet" href="screen.css"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
<nav class="navbar">
<div class="nav-container">
<ul class="">
<li> <a href="https://www.squarepenguin.co.uk/"> Home </a></li>
<li> <a href="https://www.squarepenguin.co.uk/blog/" class=""> Blog </a></li>
<li> <a href="https://www.squarepenguin.co.uk/features/" class=""> Features </a></li>
<li> <a href="https://www.squarepenguin.co.uk/faqs/" class=""> FAQ </a></li>
<li> <a href="https://www.squarepenguin.co.uk/downloads/" class=""> Downloads </a></li>
<li> <a href="https://www.squarepenguin.co.uk/wiki/" class=""> Wiki </a></li>
<li> <a href="https://www.squarepenguin.co.uk/guides/" class=""> Guides </a></li>
<li> <a href="https://forums.squarepenguin.co.uk/" class=""> Forums </a></li>
</ul>
</div>
</nav>
<div id="container">
<h1 class="forumtitle">get_iplayer forums</h1>
<h3 class="forumsubtitle">Forum archived. Posting disabled.</h3>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-23.html">Off-Topic</a> &gt; <a href="forum-25.html">Any Other Business</a> &gt; HLS Download speeds</div>
<div id="pagetitle"><h2>HLS Download speeds</h2></div>
<div id="content">
<div class="post">
<div class="header">
<div class="author"><h2>user-585</h2></div><div class="dateline">10-09-2015, 10:07 PM</div>
</div>
<div class="message">The HLS Streams seem to download at a reasonable speed most of the time but I have noticed that if I try to download multiple programmes across 2 or 3 windows then all instances slow right down. With RTMPDump running it across a few windows didn't seem to have an impact on the speed too much so is this something to do with FFMpeg or something else?</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-30</h2></div><div class="dateline">10-09-2015, 10:49 PM</div>
</div>
<div class="message">I'm not seeing this. I tried with 5 concurrent streams and I seem to get about a constant 1.3MB/s download per stream on a 150mbps cable connection. Are you trying any particular set of programmes?</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-30</h2></div><div class="dateline">10-09-2015, 10:57 PM</div>
</div>
<div class="message">Though I did just see something I wasn't expecting. With <kbd>get_iplayer --modes=hlsbest --pid=b069b0lt</kbd> I noticed the following:<br />
<br />
<div class="gipcodeblock">
<h3 class="giptitle">get_iplayer Output:</h3><div class="body" dir="ltr"><code>192904.447 kB / 658.00 sec (18.5%)<br />
ERROR: RTMP_ReadPacket, failed to read RTMP packet header<br />
192904.447 kB / 658.00 sec (18.5%)<br />
INFO: Connection timed out, trying to resume.<br />
Resuming download at: 192904.447 kB</code></div>
</div>
<br />
Should there be RTMP errors when using an HLS stream?</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-585</h2></div><div class="dateline">10-09-2015, 10:59 PM</div>
</div>
<div class="message">No particular programmes. We are on a 60mbps connection but it should still have the power to run a few concurrently. A 1 hour programme run on its own takes about 6 minutes.<br />
<br />
Also you seem to be getting output in percentages. I'm getting it like this:<br />
<br />
<div class="gipcodeblock">
<h3 class="giptitle">get_iplayer Output:</h3><div class="body" dir="ltr"><code>frame=  151 fps= 42 q=-1.0 size=    1920kB time=00:00:06.04 bitrate=2604.5kbits/<br />
frame=  175 fps= 42 q=-1.0 size=    2409kB time=00:00:07.00 bitrate=2819.7kbits/<br />
frame=  191 fps= 40 q=-1.0 size=    2634kB time=00:00:07.64 bitrate=2824.2kbits/<br />
frame=  195 fps= 34 q=-1.0 size=    2683kB time=00:00:07.80 bitrate=2818.1kbits/</code></div>
</div></div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-30</h2></div><div class="dateline">10-09-2015, 11:15 PM</div>
</div>
<div class="message">I've always got a percentage reading. I was wondering why people were talking about frames per second on the mailing list. Perhaps it's because I'm using the PPA version?<br />
<br />
<div class="gipcodeblock">
<h3 class="giptitle">get_iplayer Output:</h3><div class="body" dir="ltr"><code>get_iplayer 2.94-ppa23</code></div>
</div></div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">11-09-2015, 12:04 AM</div>
</div>
<div class="message">SP: For some reason, you're not downloading HLS . That progress display is from rtmpdump, not ffmpeg.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-30</h2></div><div class="dateline">11-09-2015, 12:15 AM</div>
</div>
<div class="message">For me the problem is <kbd>--modes=hlsbest</kbd>. That simply gives me the RTMP stream. I have to use --<kbd>tvmode=hlsbest</kbd> and then I receive the HLS stream.<br />
<br />
Do you experience this behaviour?<br />
<br />
Example commands...<br />
<br />
Receive RTMP:<br />
<br />
<kbd>get_iplayer --modes=hlsbest --pid=p02z83jc --force</kbd><br />
<br />
Receive HLS:<br />
<br />
<kbd>get_iplayer --tvmode=hlsbest --pid=p02z83jc --force</kbd></div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">11-09-2015, 12:30 AM</div>
</div>
<div class="message">No.  Do you have <kbd>tvmode</kbd> set in preferences?</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-30</h2></div><div class="dateline">11-09-2015, 08:46 AM</div>
</div>
<div class="message">Oops...<br />
<br />
<div class="gipcodeblock">
<h3 class="giptitle">get_iplayer Output:</h3><div class="body" dir="ltr"><code>tvmode = best<br />
	fileprefix = &lt;nameshort&gt;&lt;-senum&gt;&lt;-episodeshort&gt;<br />
	type = tv</code></div>
</div></div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-585</h2></div><div class="dateline">11-09-2015, 01:32 PM</div>
</div>
<div class="message">Are you still able to run 5 concurrent HLS downloads at a good speed?</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-30</h2></div><div class="dateline">11-09-2015, 01:56 PM</div>
</div>
<div class="message">Yes. I get a lower reported frame rate per stream (around 300fps) compared to when I run a single download (around 650fps) but looking at the network I see I'm pulling down about 19MBps (megabytes per second) when running 5 streams which is maxing out my connection.<br />
<br />
A single stream seems to max out at around 10MBps for me, though it is fairly unstable and drops down to about 600fps by the time the download is complete.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-585</h2></div><div class="dateline">11-09-2015, 02:34 PM</div>
</div>
<div class="message">Yes the fps reading does seem to be quite unreliable compared to the actual MB/s.</div>
</div>
</div>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-23.html">Off-Topic</a> &gt; <a href="forum-25.html">Any Other Business</a> &gt; HLS Download speeds</div>
</div>
<div class="footer">
<div class="footer-text">
<p class="footernote"> Site design Copyright &copy; SquarePenguin; <a href="http://creativecommons.org/licenses/by/4.0/">some rights reserved.</a></p>
<p class="footernote"><a href="https://www.squarepenguin.co.uk/attribution/">Attribution of Licensed Works</a></p>
</div>
</div>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
</body>
</html>
