<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>get_iplayer forums - Can I repopulate the download history?</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="robots" content="index,follow" />
<link type="text/css" rel="stylesheet" rev="stylesheet" href="screen.css"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
<nav class="navbar">
<div class="nav-container">
<ul class="">
<li> <a href="https://www.squarepenguin.co.uk/"> Home </a></li>
<li> <a href="https://www.squarepenguin.co.uk/blog/" class=""> Blog </a></li>
<li> <a href="https://www.squarepenguin.co.uk/features/" class=""> Features </a></li>
<li> <a href="https://www.squarepenguin.co.uk/faqs/" class=""> FAQ </a></li>
<li> <a href="https://www.squarepenguin.co.uk/downloads/" class=""> Downloads </a></li>
<li> <a href="https://www.squarepenguin.co.uk/wiki/" class=""> Wiki </a></li>
<li> <a href="https://www.squarepenguin.co.uk/guides/" class=""> Guides </a></li>
<li> <a href="https://forums.squarepenguin.co.uk/" class=""> Forums </a></li>
</ul>
</div>
</nav>
<div id="container">
<h1 class="forumtitle">get_iplayer forums</h1>
<h3 class="forumsubtitle">Forum archived. Posting disabled.</h3>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-23.html">Off-Topic</a> &gt; <a href="forum-25.html">Any Other Business</a> &gt; Can I repopulate the download history?</div>
<div id="pagetitle"><h2>Can I repopulate the download history?</h2></div>
<div id="content">
<div class="post">
<div class="header">
<div class="author"><h2>user-2024</h2></div><div class="dateline">18-12-2017, 10:45 PM</div>
</div>
<div class="message">After moving get_iplayer to a new host, I need to repopulate my download history.<br />
<br />
I still have all my media files, but the history is empty, so each time the PVR runs all matches that already exist produce the warning with the option to override.<br />
<br />
As this matches a lot of files (kids stuff that repeats often) a run of the PVR that otherwise downloads nothing spends minutes producing these warnings.<br />
<br />
Is to possible to repopulate the history without actually downloading all the files again?</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-1102</h2></div><div class="dateline">20-12-2017, 08:35 PM</div>
</div>
<div class="message">I wrote a Node.js script to do just this.<br />
<br />
<a href="https://github.com/Mermade/bbcparse/blob/master/populate_download_history.js">https://github.com/Mermade/bbcparse/blob...history.js</a><br />
<br />
It depends on your downloaded file names still having the PID in them.<br />
<br />
I think a bunch of lines consisting of a PID followed by 18 | characters is enough to fool get_iplayer into thinking there is a valid download_history.<br />
<br />
Please direct any questions on this to GitHub issues or the get_iplayer mailing list.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">20-12-2017, 09:12 PM</div>
</div>
<div class="message">You only need to go to such lengths if you deleted the download history on your old machine. If not, just copy it to the equivalent location on your new machine. See FAQ list for location.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2024</h2></div><div class="dateline">20-12-2017, 10:55 PM</div>
</div>
<div class="message">The cause of the move is that the drive that had the OS on the original host packed up, so the files in the users\.get_iplayer folder have gone with it.<br />
<br />
The node script is interesting - thanks for that, but unfortunately the pids are not in the saved file names. I'll have a look through it and see if I can re-purpose it though.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">20-12-2017, 11:42 PM</div>
</div>
<div class="message">You could parse the PIDs out of metadata, unless you didn't tag the files. The episode URL containing the PID is in the "Â©lyr" atom, likely to be labelled as "Lyrics" in whatever application you use to view metadata.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-1496</h2></div><div class="dateline">24-12-2017, 12:00 AM</div>
</div>
<div class="message">I know it doesn't solve your current problem, but I created a batch file which backs up the cache and download_history files daily and stores them in Dropbox. It's saved my bacon a couple of times now.</div>
</div>
</div>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-23.html">Off-Topic</a> &gt; <a href="forum-25.html">Any Other Business</a> &gt; Can I repopulate the download history?</div>
</div>
<div class="footer">
<div class="footer-text">
<p class="footernote"> Site design Copyright &copy; SquarePenguin; <a href="http://creativecommons.org/licenses/by/4.0/">some rights reserved.</a></p>
<p class="footernote"><a href="https://www.squarepenguin.co.uk/attribution/">Attribution of Licensed Works</a></p>
</div>
</div>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
</body>
</html>
