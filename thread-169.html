<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>get_iplayer forums - rtmpdump hanging</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="robots" content="index,follow" />
<link type="text/css" rel="stylesheet" rev="stylesheet" href="screen.css"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" sizes="192x192" href="/nice-highres.png" />
<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
</head>
<body>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
<nav class="navbar">
<div class="nav-container">
<ul class="">
<li> <a href="https://www.squarepenguin.co.uk/"> Home </a></li>
<li> <a href="https://www.squarepenguin.co.uk/blog/" class=""> Blog </a></li>
<li> <a href="https://www.squarepenguin.co.uk/features/" class=""> Features </a></li>
<li> <a href="https://www.squarepenguin.co.uk/faqs/" class=""> FAQ </a></li>
<li> <a href="https://www.squarepenguin.co.uk/downloads/" class=""> Downloads </a></li>
<li> <a href="https://www.squarepenguin.co.uk/wiki/" class=""> Wiki </a></li>
<li> <a href="https://www.squarepenguin.co.uk/guides/" class=""> Guides </a></li>
<li> <a href="https://forums.squarepenguin.co.uk/" class=""> Forums </a></li>
</ul>
</div>
</nav>
<div id="container">
<h1 class="forumtitle">get_iplayer forums</h1>
<h3 class="forumsubtitle">Forum archived. Posting disabled.</h3>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-10.html">Linux &amp; Unix Forums</a> &gt; <a href="forum-13.html">Linux &amp; Unix General Help</a> &gt; rtmpdump hanging</div>
<div id="pagetitle"><h2>rtmpdump hanging</h2></div>
<div id="content">
<div class="post">
<div class="header">
<div class="author"><h2>user-325</h2></div><div class="dateline">29-06-2014, 11:05 PM</div>
</div>
<div class="message">From time to time I've had rtmpdump hang while retreiving a program. It will sit there eating CPU forever until I kill it. As get_iplayer --pvr is still running, it won't run again until I've cleaned everything up, which is a problem for long-term unattended use.<br />
<br />
I've been thinking of writing a script to detect &amp; automatically clean up this situation, but thought I'd check here 1st &amp; see if anyone else has seen this issue &amp; perhaps knows of a solution.</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">30-06-2014, 01:27 PM</div>
</div>
<div class="message">This is a known issue with rtmpdump on all platforms.  You can try using <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>ulimit</code></div></div> to keep rtmpdump from eating resources when it goes haywire.  There is a brief mention of it in this thread:<br />
<br />
<a href="http://www.mail-archive.com/get_iplayer%40lists.infradead.org/msg05240.html">http://www.mail-archive.com/get_iplayer%...05240.html</a><br />
<br />
If you write a cleanup script of some kind, note that <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>get_iplayer --pvr</code></div></div> creates a lock file at <div class="codeblock"><div class="title">Code:</div><div class="body" dir="ltr"><code>&#36;HOME/.get_iplayer/pvr_lock</code></div></div> that contains the process ID of the running get_iplayer.  You'll want to kill that process before killing rtmpdump in order to avoid any retries.  You should also make sure the lock file is deleted after the processes are killed.<br />
<br />
Another issue to consider is that killing rtmpdump may leave a partially-downloaded FLV file, which may block any subsequent download attempt for that programme.  You'll probably need to scan your output directory for those files (they'll have .partial. in the file name) and delete them.  It's very unlikely a subsequent download attempt would be able to resume the download in this case.</div>
</div>
</div>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-10.html">Linux &amp; Unix Forums</a> &gt; <a href="forum-13.html">Linux &amp; Unix General Help</a> &gt; rtmpdump hanging</div>
</div>
<div class="footer">
<div class="footer-text">
<p class="footernote"> Site design Copyright &copy; SquarePenguin; <a href="http://creativecommons.org/licenses/by/4.0/">some rights reserved.</a></p>
<p class="footernote"><a href="https://www.squarepenguin.co.uk/attribution/">Attribution of Licensed Works</a></p>
</div>
</div>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
</body>
</html>
