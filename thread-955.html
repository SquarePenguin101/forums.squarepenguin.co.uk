<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>get_iplayer forums - git tags in the develop branch</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="robots" content="index,follow" />
<link type="text/css" rel="stylesheet" rev="stylesheet" href="screen.css"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" sizes="192x192" href="/nice-highres.png" />
<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
</head>
<body>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
<nav class="navbar">
<div class="nav-container">
<ul class="">
<li> <a href="https://www.squarepenguin.co.uk/"> Home </a></li>
<li> <a href="https://www.squarepenguin.co.uk/blog/" class=""> Blog </a></li>
<li> <a href="https://www.squarepenguin.co.uk/features/" class=""> Features </a></li>
<li> <a href="https://www.squarepenguin.co.uk/faqs/" class=""> FAQ </a></li>
<li> <a href="https://www.squarepenguin.co.uk/downloads/" class=""> Downloads </a></li>
<li> <a href="https://www.squarepenguin.co.uk/wiki/" class=""> Wiki </a></li>
<li> <a href="https://www.squarepenguin.co.uk/guides/" class=""> Guides </a></li>
<li> <a href="https://forums.squarepenguin.co.uk/" class=""> Forums </a></li>
</ul>
</div>
</nav>
<div id="container">
<h1 class="forumtitle">get_iplayer forums</h1>
<h3 class="forumsubtitle">Forum archived. Posting disabled.</h3>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-16.html">General Forums</a> &gt; <a href="forum-15.html">General Topics </a> &gt; git tags in the develop branch</div>
<div id="pagetitle"><h2>git tags in the develop branch</h2></div>
<div id="content">
<div class="post">
<div class="header">
<div class="author"><h2>user-1021</h2></div><div class="dateline">16-07-2016, 11:38 AM</div>
</div>
<div class="message">my build scripts determine a version number using<br />
  git describe --tags --match v*<br />
<br />
which would generate version numbers like v2.94-208-gc98e51c<br />
<br />
and this has worked fine until now, mainly because up to v2.94 all the changes were happening in a single branch (master), and thus there was a single thread of change from the last tag to the latest, and even up until the release of v2.95 this still worked as following back down the develop branch eventually hit the last release tag (just before develop was branched out of master).<br />
<br />
and this still works fine on the master branch<br />
  &#36; git describe --tags --match v* master<br />
  v2.95<br />
and so the build scripts create the right version numbers for the "stable" builds I do.<br />
<br />
but it doesn't work on the develop branch any more, because the commit that's tagged v2.95 is only on the master branch, so following back down the develop branch to the latest tag follows all the way back to v2.94, thus -<br />
  &#36; git describe --tags --match v* develop<br />
  v2.94-208-gc98e51c<br />
whereas for the same commit I really want something like v2.95-3-gc98e51c<br />
<br />
do any git gurus have any suggestions as to how to fix this?<br />
<br />
thanks<br />
Jon</div>
</div>
<div class="post">
<div class="header">
<div class="author"><h2>user-2</h2></div><div class="dateline">16-07-2016, 02:47 PM</div>
</div>
<div class="message">Thread moved to GitHub:<br />
<br />
<a href="https://github.com/get-iplayer/get_iplayer/issues/266">https://github.com/get-iplayer/get_iplayer/issues/266</a></div>
</div>
</div>
<div class="navigation"><a href="index.html">get_iplayer forums</a> &gt; <a href="forum-16.html">General Forums</a> &gt; <a href="forum-15.html">General Topics </a> &gt; git tags in the develop branch</div>
</div>
<div class="footer">
<div class="footer-text">
<p class="footernote"> Site design Copyright &copy; SquarePenguin; <a href="http://creativecommons.org/licenses/by/4.0/">some rights reserved.</a></p>
<p class="footernote"><a href="https://www.squarepenguin.co.uk/attribution/">Attribution of Licensed Works</a></p>
</div>
</div>
<div class="frontnavwrap">
<div class="page-title">
<h1 style="color:#fff;">These forums are archived</h1>
<h3 style="color:#fff;">See <a style="color:#fff;" href="https://www.squarepenguin.co.uk/blog/squarepenguin-forums-archived/">this post</a> for further info</h3>
</div>
</div>
</body>
</html>
